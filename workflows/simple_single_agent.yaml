name: "Sample Agent Workflow"
description: "Ingest input files to agent to answer question."
version: "1.0"

inputs:
  user_query:
    type: "string"
    description: "The question you want to ask the agent."
    default: "Hello! Tell me a joke about research papers."
  input_files:
    type: "list[file]"
    description: "List of files to provide to the agent."
    default: []

steps:
  - id: "file_ingest_step"
    type: "file_ingest"
    params:
      files_to_read: "{{ inputs.input_files }}"

  - id: "agent_step"
    type: "prompt_agent"
    params:
      agent: "simple_agent"
      files_to_read: "{{ inputs.input_files }}"
      prompts: 
        - "{{ inputs.user_query }}"
      write_response_to_file: True
      write_response_to_output: True
      output_filename: "agent_response.md"

outputs:
  output_content:
    description: "Output response from the agent"
    value: "{{ steps.agent_step.content }}"
  output_path:
    description: "File path to the output from agent"
    value: "{{ steps.agent_step.file_paths }}"
